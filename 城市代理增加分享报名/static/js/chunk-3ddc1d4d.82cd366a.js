(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ddc1d4d"],{"2a75":function(e,t,n){"use strict";var a=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var r=a(n("3b8d"));n("cadf"),n("551c"),n("f751"),n("097d");var o=a(n("15aa")),i=(a(n("8045")),a(n("5b05"))),s={data:function(){return{oldPhone:"",newPhone:"",verifyCode:"",isVerify:!0,yzmContent:"获取验证码"}},mounted:function(){},created:function(){},methods:{goBack:function(){this.$router.go(-1)},yzm:function(){var e=(0,r.default)(regeneratorRuntime.mark(function e(){var t,n,a,r,s,u=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.newPhone){e.next=3;break}return weui.alert("请输入新手机号"),e.abrupt("return",!1);case 3:return t={str:this.newPhone},e.next=6,(0,o.default)("/api/open/sms/sendSms","post",t,"application/x-www-form-urlencoded");case 6:if(n=e.sent,a=(0,i.default)(n),500!=a.code){e.next=11;break}return weui.alert("请输入正确验证码"),e.abrupt("return",!1);case 11:if(a){e.next=13;break}return e.abrupt("return");case 13:weui.toast("已发送"),r=60,s=setInterval(function(){if(0==r)return clearInterval(s),u.isVerify=!0,u.yzmContent="获取验证码",!1;r>0&&(u.yzmContent=r+"秒后重试",u.isVerify=!1,r--)},1e3),console.log(a);case 17:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),edit:function(){var e="";2==this.$store.state.role?e="/api/token/user/updateUserStudentPhone":3==this.$store.state.role&&(e="/api/token/user/updateUserParentPhone");var t=this;""==t.oldPhone&&weui.alert("请输入旧手机号！"),""==t.newPhone&&weui.alert("请输入新手机号！"),""==t.verifyCode&&weui.alert("请输入短信验证码！"),weui.dialog({title:"确认修改手机号吗",content:"将手机号修改为"+t.newPhone,className:"custom-classname",buttons:[{label:"取消",type:"default",onClick:function(){weui.toast("已取消修改",2e3)}},{label:"确定",type:"primary",onClick:function(){var n=(0,r.default)(regeneratorRuntime.mark(function n(){var a,r,s,u;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return a={access_token:t.$store.state.token,oldPhone:t.oldPhone,newPhone:t.newPhone,verifyCode:t.verifyCode},r=weui.loading("loading",{className:"custom-classname"}),n.next=4,(0,o.default)(e,"post",a,"application/x-www-form-urlencoded");case 4:if(s=n.sent,u=(0,i.default)(s),r.hide(),u){n.next=9;break}return n.abrupt("return");case 9:console.log("结果",s),this.isVerify=!0,localStorage["edit"]=!0,weui.toast("修改成功",2e3),t.$router.go(-1);case 14:case"end":return n.stop()}},n,this)}));function a(){return n.apply(this,arguments)}return a}()}]})}},watch:{}};t.default=s},"5b05":function(e,t,n){"use strict";var a=n("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("e814")),o=function(e){return 0===(0,r.default)(e.code)||"wxce7e78ccfdb3ae71"==e.appid?e.data||!0:(e.message&&weui.alert(e.message),e.data&&!1)},i=o;t.default=i},"74df":function(e,t,n){"use strict";var a=n("d046"),r=n.n(a);r.a},cb25:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main"},[a("div",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:e.$route.meta.title,expression:"$route.meta.title"}]}),a("div",{staticClass:"back",on:{click:function(t){return e.goBack()}}},[a("img",{attrs:{src:n("fdf3"),alt:""}}),a("span",[e._v("返回")])]),a("div",{staticClass:"userInfo"},[a("span",[e._v("\n\t\t\t旧手机号\n\t\t")]),a("div",{staticClass:"userPhone"},[a("img",{attrs:{src:n("419f"),alt:""}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPhone,expression:"oldPhone"}],attrs:{type:"number",placeholder:"请输入旧手机号"},domProps:{value:e.oldPhone},on:{input:function(t){t.target.composing||(e.oldPhone=t.target.value)}}})]),a("span",{staticClass:"none"},[e._v("\n\t\t\t新手机号\n\t\t")]),a("div",{staticClass:"userPhone"},[a("img",{attrs:{src:n("419f"),alt:""}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.newPhone,expression:"newPhone"}],attrs:{type:"text",placeholder:"请输入新手机号"},domProps:{value:e.newPhone},on:{input:function(t){t.target.composing||(e.newPhone=t.target.value)}}}),e.isVerify?a("p",{staticClass:"yzm",on:{click:function(t){return e.yzm()}}},[e._v(e._s(e.yzmContent))]):e._e(),e.isVerify?e._e():a("p",{staticClass:"yzm"},[e._v(e._s(e.yzmContent))])]),a("span",{staticClass:"none"},[e._v("\n\t\t\t短信验证码\n\t\t")]),a("div",{staticClass:"password"},[a("img",{attrs:{src:n("9aea"),alt:""}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.verifyCode,expression:"verifyCode"}],attrs:{type:"text",placeholder:"请输入短信验证码"},domProps:{value:e.verifyCode},on:{input:function(t){t.target.composing||(e.verifyCode=t.target.value)}}})]),a("div",{staticClass:"reg"},[a("button",{on:{click:function(t){return e.edit()}}},[e._v("确认修改")])])])])},r=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return r})},cd66:function(e,t,n){"use strict";n.r(t);var a=n("2a75"),r=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=r.a},cf1c:function(e,t,n){"use strict";n.r(t);var a=n("cb25"),r=n("cd66");for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);n("74df");var i=n("2877"),s=Object(i["a"])(r["default"],a["a"],a["b"],!1,null,"e63c1618",null);t["default"]=s.exports},d046:function(e,t,n){},fdf3:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAABb0lEQVRYR+3Y3VHDMAwHcMsLwAhmg44AGzBCmYQRYAOuG7AB3YCyQNAIZQGJE+fchVxaf0m+PCRvPffhl7/kjxjcyh9Yuc9twNYKbQlKgiGEnff+mYgOiPhekqp5goIDgA8AuBUYEd0hIuYiTYFznHPuZxiGP2juYwZcwhHRPSKecnHyPxOgFs4EGELYA8DL2HNS1prkxpRVExSc9/5tUsImnGqCFjg1oBVOBTjHMfMXMz+WrHXXZnVTD17AyVJyLllKTIA9cNUl7oWrAvbEFQPjqeRz7Jk4IVR7bt6PRZMkhBC8998T4ImZHzQnRRMwnu3+7RbMbIosSnB8u4U+FORT6UklZymqAl5I8hzLXXScSiGrgb2QTcAeyGbgBPnqnLuR38ysVm4VYETKl9tRG6kGtEKqAi2Q6kBtpAlQE2kGvIKUm4XsA60pcAm5qquPyd4tS9CeiI6ruzxK7bWpcfMSpwCp8Q2YSig1vvoEfwEC/T84JDNiXgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-3ddc1d4d.82cd366a.js.map